{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";const initialState={isAuthenticated:!!localStorage.getItem(\"authToken\"),// Check if there's a token in localStorage\nuserRole:localStorage.getItem(\"user\"),// Retrieve user role from localStorage\ntoken:localStorage.getItem(\"authToken\")// Retrieve token from localStorage\n};const authSlice=createSlice({name:\"auth\",initialState,reducers:{login(state,action){state.isAuthenticated=true;state.userRole=action.payload.role;state.token=action.payload.token;},logout(state){state.isAuthenticated=false;state.userRole=null;state.token=null;localStorage.removeItem(\"authToken\");},setToken(state,action){state.token=action.payload.token;}}});export const{login,logout,setToken}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","isAuthenticated","localStorage","getItem","userRole","token","authSlice","name","reducers","login","state","action","payload","role","logout","removeItem","setToken","actions","reducer"],"sources":["C:/Users/Roushan/Desktop/BananaGUI/bananafrontend/src/features/auth/authSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: !!localStorage.getItem(\"authToken\"), // Check if there's a token in localStorage\r\n  userRole: localStorage.getItem(\"user\"), // Retrieve user role from localStorage\r\n  token: localStorage.getItem(\"authToken\"), // Retrieve token from localStorage\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: \"auth\",\r\n  initialState,\r\n  reducers: {\r\n    login(state, action) {\r\n      state.isAuthenticated = true;\r\n      state.userRole = action.payload.role;\r\n      state.token = action.payload.token;\r\n    },\r\n    logout(state) {\r\n      state.isAuthenticated = false;\r\n      state.userRole = null;\r\n      state.token = null;\r\n      localStorage.removeItem(\"authToken\");\r\n    },\r\n    setToken(state, action) {\r\n      state.token = action.payload.token;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { login, logout, setToken } = authSlice.actions;\r\nexport default authSlice.reducer;\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,KAAM,CAAAC,YAAY,CAAG,CACnBC,eAAe,CAAE,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAE;AACtDC,QAAQ,CAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAE;AACxCE,KAAK,CAAEH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAG;AAC5C,CAAC,CAED,KAAM,CAAAG,SAAS,CAAGP,WAAW,CAAC,CAC5BQ,IAAI,CAAE,MAAM,CACZP,YAAY,CACZQ,QAAQ,CAAE,CACRC,KAAKA,CAACC,KAAK,CAAEC,MAAM,CAAE,CACnBD,KAAK,CAACT,eAAe,CAAG,IAAI,CAC5BS,KAAK,CAACN,QAAQ,CAAGO,MAAM,CAACC,OAAO,CAACC,IAAI,CACpCH,KAAK,CAACL,KAAK,CAAGM,MAAM,CAACC,OAAO,CAACP,KAAK,CACpC,CAAC,CACDS,MAAMA,CAACJ,KAAK,CAAE,CACZA,KAAK,CAACT,eAAe,CAAG,KAAK,CAC7BS,KAAK,CAACN,QAAQ,CAAG,IAAI,CACrBM,KAAK,CAACL,KAAK,CAAG,IAAI,CAClBH,YAAY,CAACa,UAAU,CAAC,WAAW,CAAC,CACtC,CAAC,CACDC,QAAQA,CAACN,KAAK,CAAEC,MAAM,CAAE,CACtBD,KAAK,CAACL,KAAK,CAAGM,MAAM,CAACC,OAAO,CAACP,KAAK,CACpC,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEI,KAAK,CAAEK,MAAM,CAAEE,QAAS,CAAC,CAAGV,SAAS,CAACW,OAAO,CAC5D,cAAe,CAAAX,SAAS,CAACY,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}